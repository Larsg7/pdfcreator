<div id="template-display">
  <mat-expansion-panel [expanded]="templateService.activeTemplate && !templateService.activeTemplate?.document">
    <mat-expansion-panel-header>
      <mat-panel-title>
        Template bearbeiten
      </mat-panel-title>
      <mat-panel-description>
      </mat-panel-description>
    </mat-expansion-panel-header>
    <app-template-basics></app-template-basics>
  </mat-expansion-panel>
  <div *ngIf="templateService.activeTemplate">
    <div id="template-view" class="row" *ngIf="templateService.activeTemplate?.document || templateService.activeTemplate?.fields?.length; else noDocument">
      <div class="template-view-item col-sm-12 col-md-5 col-lg-4" *ngIf="templateService.activeTemplate?.fields.length">
        <app-template-placeholders></app-template-placeholders>
      </div>
      <div class="template-view-item col-sm-12 col-md-7 col-lg-8">
        <object *ngIf="safeUri" [data]="safeUri" id="template-document"></object>
      </div>
    </div>
    <ng-template #noDocument>
      <div id="template-upload">
        <p>Kein Dokument vorhanden.</p>
        <p>Bitte lade ein LaTeX Dokument hoch oder aktualisiere:</p>
        <button mat-raised-button color="accent" (click)="templateService.reloadTemplate()">
          <mat-icon>refresh</mat-icon>
        </button>
      </div>
    </ng-template>
  </div>
</div>
